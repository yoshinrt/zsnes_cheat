# zsnes_cheat
---

zsnes のチートファイル (.cht) を楽に作るための perl スクリプト．

また，.cht を perl スクリプトに変換する．

例えば，多数キャラのステータス上げチートを作成するとき，

* zsnes で 1人分のチートコードを作成
* .cht -> perl に変換
* perl で，1人分のチートコードをループを回すことによって，多人数の チートコードを生成

とすることで，多人数のチートコードを楽に作成できる．


## pl2cht 使い方

以下のような perl スクリプトを作成し，実行すると，拡張子を .cht に変えたファイルが出力される．

```
#!/usr/bin/perl -w
require './pl2cht.pl';

Cheat( command_string );
```

---

## command_string 書式
以下の書式では，16進数または10進数を以下の書式で表現します．

**H** :16進数 1桁

**D** :10進数任意桁

また，**数値** と表現されている箇所は，以下のいずれかの書式で記述します．

**HH** :1バイト数値

**HHHH** :2バイト数値

**HHHHHHHH** :4バイト数値

b**D** :1バイト数値 (10進数)

w**D** :2バイト数値 (10進数)

d**D** :4バイト数値 (10進数)

### コマンド一覧

@**数値** :絶対アドレスの指定．アドレスポインタを指定の絶対アドレスに設定します．Cheat() を呼ぶ前に，perl 変数の $Addr を設定することによっても，アドレスを指定できます．

+**数値** :アドレスをその数値分加算します．

**数値** :アドレスの指すメモリを指定の数値で書き換えるチートコードを生成し，アドレスポインタをその数値のバイト数分，加算します．

' :チートコードの説明．.cht を zsnes に読み込んだときに，この説明が表示されます．

\# : コメント．# から行末までは無視されます．

## cht2pl 使い方

.cht を perl スクリプトに変換し，標準出力に出力する．使い方は以下の通り．

```
% cht2pl.pl cht_file > perl_file
```
